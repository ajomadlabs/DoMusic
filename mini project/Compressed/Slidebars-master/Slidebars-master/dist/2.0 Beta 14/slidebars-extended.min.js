/*!
 * Slidebars - A jQuery framework for off-canvas menus and sidebars.
 * Version: 2.0 Extended Beta 14
 * Url: http://plugins.adchsm.me/slidebars/
 * Author: Adam Charles Smith
 * Author url: http://www.adchsm.com/
 * License: GPL General Pubic License v2.0
 * License url: http://www.gnu.org/licenses/gpl-2.0.html
 */

var slidebars=function(){var t=$("[canvas]"),e={},i=!1,n=!1,s=["top","right","bottom","left"],r=["reveal","push","overlay","shift"],o=function(t,i,n,s){return e.hasOwnProperty(t)?!1:void(e[t]={id:t,side:i,style:n,element:s,active:!1})},a=function(i){var n=$(),s="0px, 0px",r=1e3*parseFloat(e[i].element.css("transitionDuration"),10);return("reveal"===e[i].style||"push"===e[i].style||"shift"===e[i].style)&&(n=n.add(t)),("push"===e[i].style||"overlay"===e[i].style||"shift"===e[i].style)&&(n=n.add(e[i].element)),e[i].active&&("top"===e[i].side?s="0px, "+e[i].element.css("height"):"right"===e[i].side?s="-"+e[i].element.css("width")+", 0px":"bottom"===e[i].side?s="0px, -"+e[i].element.css("height"):"left"===e[i].side&&(s=e[i].element.css("width")+", 0px")),{elements:n,amount:s,duration:r}};this.init=function(t){return i?!1:(n||($("[off-canvas]").each(function(){var t=$(this).attr("off-canvas").split(" ",3);return t[0]&&-1!==s.indexOf(t[1])&&-1!==r.indexOf(t[2])?void o(t[0],t[1],t[2],$(this)):!1}),n=!0),i=!0,this.css(),$(f).trigger("init"),void("function"==typeof t&&t()))},this.exit=function(t){if(!i)return!1;var e=function(){i=!1,$(f).trigger("exit"),"function"==typeof t&&t()};this.active("slidebar")?this.close(e):e()},this.css=function(t){if(!i)return!1;for(var n in e)if(e.hasOwnProperty(n)){var s;s=e[n].element.css("top"===e[n].side||"bottom"===e[n].side?"height":"width"),("push"===e[n].style||"overlay"===e[n].style||"shift"===e[n].style)&&e[n].element.css("margin-"+e[n].side,"-"+s)}this.active("slidebar")&&this.open(this.active("slidebar")),$(f).trigger("css"),"function"==typeof t&&t()},this.open=function(t,n){if(!i)return!1;if(!t||!e.hasOwnProperty(t))return!1;var s=function(){e[t].active=!0,e[t].element.css("display","block"),$(f).trigger("opening",[e[t].id]);var i=a(t);i.elements.css({"transition-duration":i.duration+"ms",transform:"translate("+i.amount+")"}),setTimeout(function(){$(f).trigger("opened",[e[t].id]),"function"==typeof n&&n()},i.duration)};this.active("slidebar")&&this.active("slidebar")!==t?this.close(s):s()},this.close=function(t,n){if("function"==typeof t&&(n=t,t=null),!i)return!1;if(t&&!e.hasOwnProperty(t))return!1;if(t||(t=this.active("slidebar")),t&&e[t].active){e[t].active=!1,$(f).trigger("closing",[e[t].id]);var s=a(t);s.elements.css("transform",""),setTimeout(function(){s.elements.css("transition-duration",""),e[t].element.css("display","none"),$(f).trigger("closed",[e[t].id]),"function"==typeof n&&n()},s.duration)}},this.toggle=function(t,n){return i&&t&&e.hasOwnProperty(t)?void(e[t].active?this.close(t,function(){"function"==typeof n&&n()}):this.open(t,function(){"function"==typeof n&&n()})):!1},this.active=function(t){var n=!1;if(t)if("slidebar"===t){if(!i)return!1;for(var s in e)if(e.hasOwnProperty(s)&&e[s].active){n=e[s].id;break}}else{if(!i)return!1;if(!e.hasOwnProperty(t))return!1;n=e[t].active}else n=i;return n},this.events={};var f=this.events;$(window).on("resize",this.css.bind(this)),this.get=function(t){if(!i)return!1;var n=!1;if(t){if(!e.hasOwnProperty(t))return!1;n=e[t]}else{n=[];for(var s in e)e.hasOwnProperty(s)&&n.push(e[s].id);0===n.length&&(n=!1)}return n},this.create=function(t,n,a,c,u){return"function"==typeof c&&(u=c,c=null),i?e.hasOwnProperty(t)?!1:t&&-1!==s.indexOf(n)&&-1!==r.indexOf(a)?($('<div id="'+t+'" off-canvas="'+t+" "+n+" "+a+'"></div>').appendTo("body"),c&&$("#"+t).html(c),o(t,n,a,$("#"+t)),this.css(),$(f).trigger("created",[e[t].id]),void("function"==typeof u&&u())):!1:!1},this.destroy=function(t,n){if(!i)return!1;if(!t||!e.hasOwnProperty(t))return!1;var s=function(){$(f).trigger("destroyed",[e[t].id]),e[t].element.remove(),delete e[t],"function"==typeof n&&n()};e[t].active?this.close(t,s):s()},this.modify=function(t,n,o,a){if(!i)return!1;if(!t||!e.hasOwnProperty(t))return!1;if(-1===s.indexOf(n)||-1===r.indexOf(o))return!1;var c=this,u=function(){e[t].element.css("margin-"+e[t].side,""),e[t].side=n,e[t].style=o,e[t].element.attr("off-canvas",t+" "+n+" "+o),c.css(),$(f).trigger("modified",[e[t].id]),"function"==typeof a&&a()};e[t].active?this.close(t,u):u()}};
